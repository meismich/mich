# File:			commands.cfg
# Date:			2011-08-31
# Author:  		Michael Spence

#--- NOTIFY COMMANDS

# notify-host-by-email
define command{
	command_name	notify-host-by-email
	command_line	/usr/bin/printf "%b" "***** ISS Monitoring Server *****\n\nNotification Type: $NOTIFICATIONTYPE$\nHost: $HOSTNAME$\nState: $HOSTSTATE$\nAddress: $HOSTADDRESS$\nInfo: $HOSTOUTPUT$\n\nDate/Time: $LONGDATETIME$\n" | /usr/bin/mail -s "** $NOTIFICATIONTYPE$ Host Alert: $HOSTNAME$ is $HOSTSTATE$ **" $CONTACTEMAIL$
	}

# notify-service-by-email
define command{
	command_name	notify-service-by-email
	command_line	/usr/bin/printf "%b" "***** ISS Monitoring Server *****\n\nNotification Type: $NOTIFICATIONTYPE$\n\nService: $SERVICEDESC$\nHost: $HOSTALIAS$\nAddress: $HOSTADDRESS$\nState: $SERVICESTATE$\n\nDate/Time: $LONGDATETIME$\n\nAdditional Info:\n\n$SERVICEOUTPUT$" | /usr/bin/mail -s "** $NOTIFICATIONTYPE$ Service Alert: $HOSTALIAS$/$SERVICEDESC$ is $SERVICESTATE$ **" $CONTACTEMAIL$
	}


#--- HOST CHECK COMMANDS

# check-host-alive command definition
define command{
        command_name    check-host-alive
        command_line    $USER1$/check_ping -H $HOSTADDRESS$ -w 1000.0,80% -c 2000.0,100% -p 5 -4
        }


#--- SERVICE CHECK COMMANDS

#-- Local Nagios Machine

# check_local_disk command definition
define command{
        command_name    check_local_disk
        command_line    $USER1$/check_disk -w $ARG1$ -c $ARG2$ -p $ARG3$
        }

# check_local_load command definition
define command{
        command_name    check_local_load
        command_line    $USER1$/check_load -w $ARG1$ -c $ARG2$
        }

# check_local_procs command definition
define command{
        command_name    check_local_procs
        command_line    $USER1$/check_procs -w $ARG1$ -c $ARG2$ -s $ARG3$
        }

# check_local_swap command definition
define command{
	command_name	check_local_swap
	command_line	$USER1$/check_swap -w $ARG1$ -c $ARG2$
	}

# check_local_users command definition
define command{
        command_name    check_local_users
        command_line    $USER1$/check_users -w $ARG1$ -c $ARG2$
        }

#-- Standard Server checks (Local/Remote)

# check_ftp command definition
define command{
        command_name    check_ftp
        command_line    $USER1$/check_ftp -H $HOSTADDRESS$ $ARG1$
        }

# check_hpjd command definition
define command{
        command_name    check_hpjd
        command_line    $USER1$/check_hpjd -H $HOSTADDRESS$ $ARG1$
        }

# check_snmp command definition
define command{
        command_name    check_snmp
        command_line    $USER1$/check_snmp -H $HOSTADDRESS$ $ARG1$
        }

# check_snmp_cx command definition
define command{
        command_name    check_snmp_cx
        command_line    $USER1$/check_snmp -H $HOSTADDRESS$ -C apsnmpro -l $ARG1$ -P $ARG2$ -m $ARG3$ -o $ARG4$ -w $ARG6$ -c $ARG7$
        }

# check_snmp_cx command definition
define command{
        command_name    check_snmp_cx_rex
        command_line    $USER1$/check_snmp -H $HOSTADDRESS$ -C apsnmpro -l $ARG1$ -P $ARG2$ -m $ARG3$ -o $ARG4$ -r $ARG5$
        }

# check_snmp_cx command definition
define command{
        command_name    check_snmp_complex
        command_line    $USER1$/check_snmp -H $ARG1$ -C apsnmpro -P $ARG2$ -m $ARG3$ -o $ARG4$ -r $ARG5$ -l $ARG6$
        }

# check_http command definition
define command{
        command_name    check_http
        command_line    $USER1$/check_http -H $ARG1$
        }

# check_ssh command definition
define command{
        command_name    check_ssh
        command_line    $USER1$/check_ssh $ARG1$ $HOSTADDRESS$
        }

# check_dhcp command definition
define command{
        command_name    check_dhcp
        command_line    $USER1$/check_dhcp $ARG1$
        }

# check_ping command definition
define command{
        command_name    check_ping
        command_line    $USER1$/check_ping -H $HOSTADDRESS$ -w $ARG1$ -c $ARG2$ -p 5 -4
        }

# check_pop command definition
define command{
        command_name    check_pop
        command_line    $USER1$/check_pop -H $HOSTADDRESS$ $ARG1$
        }

# check_imap command definition
define command{
        command_name    check_imap
        command_line    $USER1$/check_imap -H $HOSTADDRESS$ $ARG1$
        }

# check_smtp command definition
define command{
        command_name    check_smtp
        command_line    $USER1$/check_smtp -H $HOSTADDRESS$ $ARG1$
        }

# check_tcp command definition
define command{
        command_name    check_tcp
        command_line    $USER1$/check_tcp -H $HOSTADDRESS$ -p $ARG1$ $ARG2$
        }

# check_udp command definition
define command{
        command_name    check_udp
        command_line    $USER1$/check_udp -H $HOSTADDRESS$ -p $ARG1$ $ARG2$
        }

# check_nt command definition
define command{
        command_name    check_nt
        command_line    $USER1$/check_nt -H $HOSTADDRESS$ -p 12489 -v $ARG1$ $ARG2$
        }


#-- PERFORMANCE DATA COMMANDS

# process-host-perfdata command definition
define command{
        command_name    process-host-perfdata
        command_line    /usr/bin/perl /usr/local/pnp4nagios/libexec/process_perfdata.pl -d HOSTPERFDATA
        }

# process-service-perfdata command definition
define command{
        command_name    process-service-perfdata
        command_line    /usr/bin/perl /usr/local/pnp4nagios/libexec/process_perfdata.pl
        }


#-- CUSTOM CHECKS

#- NRPE checks (NSClient++)

# check_nrpe_cpu command definition
define command{
        command_name check_nrpe_cpu
        command_line $USER1$/check_nrpe -H $HOSTADDRESS$ -p 5666 -t 20 -c CheckCPU -a warn=80 crit=90 time=5m
        }

# check_nrpe_mem command definition
define command{
        command_name check_nrpe_mem
        command_line $USER1$/check_nrpe -H $HOSTADDRESS$ -p 5666 -t 20 -c CheckMEM -a MaxWarn=95% MaxCrit=99% type=physical type=page
        }

# check_nrpe_drive command definition
define command{
  	command_name check_nrpe_drives
  	command_line $USER1$/check_nrpe -H $HOSTADDRESS$ -p 5666 -t 20 -c CheckDriveSize -a ShowAll MinWarnFree=20% MinCritFree=10%
        }

# check_nrpe_service command definition
define command{
        command_name check_nrpe_service
        command_line $USER1$/check_nrpe -H $HOSTADDRESS$ -p 5666  -t 20 -c CheckServiceState -a ShowAll $ARG1$
        }

# check_local_mrtgtraf command definition
define command{
	command_name check_local_mrtgtraf
	command_line $USER1$/check_mrtgtraf -F /var/www/mrtg/$HOSTADDRESS$.log -a $ARG1$ -w $_HOSTWARNBPS$ -c $_HOSTCRITBPS$
	}

#- CHECK BY SSH
define command{
	command_name check_ssh_proc
	command_line $USER1$/check_by_ssh -H $HOSTADDRESS$ -l $ARG2$ -C "bin/check_proc $ARG1$"
	}

#------ FUCKED UP TESTS TO CHANGE ---------
# AP Eagers Ltd dedicated webserver checks
#------------------------------------------

# check_ftp-phasenewmedia command definition
define command{
        command_name    check_ftp-phasenewmedia
        command_line    $USER1$/check_ftp -H 210.247.230.30
        }
